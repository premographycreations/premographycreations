import{a as u,r as i,j as e}from"./index-CbuayKso.js";import{N as p}from"./nav-D5WXSpHL.js";import g from"./footer-DdC13jAx.js";import{W as x}from"./whatsappbutton-zQ-6kbWc.js";import{d as h,c as j}from"./s3-D1JRhvOZ.js";const b=()=>{const{section:t,subfolder:a,type:s}=u();console.log("SubfolderView params:",{section:t,subfolder:a,type:s}),console.log("SubfolderView component loaded successfully!");const[l,f]=i.useState([]),[c,d]=i.useState(!0),[n,m]=i.useState(null);return i.useEffect(()=>{async function r(){try{d(!0);let o=[];s==="Images"?o=await h(t,a):s==="Videos"&&(o=await j(t,a)),f(o),m(null)}catch(o){console.error(`Error fetching ${s} for ${t}/${a}:`,o),m(`Failed to load ${s}. Please try again later.`)}finally{d(!1)}}r()},[t,a,s]),e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"container",children:[e.jsxs("h1",{className:"page-title",children:[a," - ",s]}),c&&e.jsxs("div",{className:"loading",children:["Loading ",s,"..."]}),n&&e.jsx("div",{className:"error-message",children:n}),!c&&!n&&l.length===0&&e.jsxs("div",{className:"no-content",children:["No ",s," found."]}),e.jsxs("div",{className:"media-grid",children:[s==="Images"&&l.slice(0,20).map((r,o)=>e.jsx("img",{src:r,alt:`photo-${o}`,className:"media-item"},o)),s==="Videos"&&l.map((r,o)=>e.jsx("video",{controls:!0,className:"media-item",children:e.jsx("source",{src:r,type:"video/mp4"})},o))]})]}),e.jsx(g,{}),e.jsx(x,{})]})};export{b as default};
