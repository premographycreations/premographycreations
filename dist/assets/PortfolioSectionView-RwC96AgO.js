import{a as x,r,u as j,j as e}from"./index-B91yj_H6.js";import{N}from"./nav-BKpyWsoo.js";import p from"./footer-s8R4tRlT.js";import{W as v}from"./whatsappbutton-tM2-OH78.js";import{a as b,b as S,c as w}from"./s3-D1JRhvOZ.js";const I=()=>{const{section:o}=x(),[n,m]=r.useState([]),[l,i]=r.useState(!0),[t,c]=r.useState(null),u=j();r.useEffect(()=>{async function s(){try{i(!0);const a=await b(o),h=await Promise.all(a.map(async d=>{const g=await S(o,d);return{name:d,cover:g}}));m(h),c(null)}catch(a){console.error(`Error fetching subfolders for ${o}:`,a),c(`Failed to load ${o} subfolders. Please try again later.`)}finally{i(!1)}}s()},[o]);const f=async s=>{const a=await w(o,s);a.length>0?window.open(a[0],"_blank"):alert("No video links found!")};return e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"page-title",children:o}),l&&e.jsxs("div",{className:"loading",children:["Loading ",o," folders..."]}),t&&e.jsx("div",{className:"error-message",children:t}),!l&&!t&&n.length===0&&e.jsxs("div",{className:"no-content",children:["No subfolders found in ",o,"."]}),e.jsx("div",{className:"portfolio-grid",children:n.map(s=>e.jsxs("div",{className:"folder-card",children:[s.cover?e.jsx("img",{src:s.cover,alt:s.name,className:"cover-img"}):e.jsx("div",{className:"no-cover",children:"No Image"}),e.jsx("h2",{className:"folder-title",children:s.name}),e.jsxs("div",{className:"btn-row",children:[e.jsx("button",{className:"btn",onClick:()=>u(`/portfolio/${encodeURIComponent(o)}/${encodeURIComponent(s.name)}/Images`),children:"Photos"}),e.jsx("button",{className:"btn",onClick:()=>f(s.name),children:"Videos"})]})]},s.name))})]}),e.jsx(p,{}),e.jsx(v,{})]})};export{I as default};
